<VirtualHost *:8000>
    ServerName localhost
    DocumentRoot /var/www/html/app/public

    <Directory /var/www/html/app/public>
        AllowOverride None
        Require all granted

        RewriteEngine On

        # Si le fichier ou dossier existe, on sert directement
        RewriteCond %{REQUEST_FILENAME} -f [OR]
        RewriteCond %{REQUEST_FILENAME} -d
        RewriteRule ^ - [L]

        # Sinon TOUT passe par GLPI
        RewriteRule ^ index.php [L]
    </Directory>

    # Sécurité : on bloque l'accès direct au reste
    <Directory /var/www/html/app>
        Require all denied
    </Directory>
</VirtualHost>
